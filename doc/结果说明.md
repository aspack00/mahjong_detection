# 训练结果说明（runs/detect/train2）

训练脚本 `training.ipynb` 跑完后，结果输出在 `runs/detect/train2` 目录。本文档说明各文件含义，以及**如何判断模型效果好不好**。

---

## 一、如何判断效果好不好（优先看这些）

| 优先级 | 文件 | 怎么看 |
|--------|------|--------|
| **1** | **`results.png`** | 一张图看全貌：训练/验证损失是否下降并收敛；精确率(P)、召回率(R)、mAP 曲线是否上升并趋于稳定。**验证 mAP 高且稳定、损失收敛** → 效果较好。 |
| **2** | **`results.csv`** | 每个 epoch 的数值：看最后一行的 `metrics/mAP50(B)`、`metrics/mAP50-95(B)`。**mAP50 越高越好**（常见目标 >0.8 算不错）；mAP50-95 更严格，也会随训练变高。 |
| **3** | **`BoxPR_curve.png`** | 精确率-召回率曲线，曲线下面积对应 AP。**曲线越靠右上角、面积越大** → 检测性能越好。 |
| **4** | **`confusion_matrix_normalized.png`** | 按类别看分类对不对：**对角线越亮、非对角线越暗** → 各类别区分好；若某两类互相混淆，可针对性加数据或调参。 |
| **5** | **`val_batch*_pred.jpg` 与 `val_batch*_labels.jpg`** | 对比「真实标签」和「模型预测」：框是否准、有没有漏检/误检、类别是否标对。**直观感受模型在验证集上的表现**。 |

**简要结论**：先看 `results.png` 和 `results.csv` 最后一行的 mAP；再结合 `BoxPR_curve.png`、混淆矩阵和 `val_*_pred.jpg` 做细部判断。

---

## 二、各 PNG 文件含义

| 文件名 | 含义 |
|--------|------|
| **results.png** | 训练过程汇总：损失曲线（box/cls/dfl）、验证集上的 Precision、Recall、mAP50、mAP50-95 随 epoch 变化。用于判断是否收敛、是否过拟合。 |
| **BoxP_curve.png** | **精确率（Precision）曲线**：在不同置信度阈值下，模型「预测为正例」里真正例的比例。越高说明误检越少。 |
| **BoxR_curve.png** | **召回率（Recall）曲线**：在不同置信度阈值下，模型能找出的真实目标占全部真实目标的比例。越高说明漏检越少。 |
| **BoxPR_curve.png** | **精确率-召回率（P-R）曲线**：横轴召回率、纵轴精确率。曲线下面积（AP）是目标检测常用指标，**越靠右上、面积越大** 表示性能越好。 |
| **BoxF1_curve.png** | **F1 分数曲线**：Precision 和 Recall 的调和平均，在不同置信度下的综合表现。 |
| **confusion_matrix.png** | **混淆矩阵（原始计数）**：行=真实类别，列=预测类别；格子里的数字是样本数。对角线越大、非对角线越小越好。 |
| **confusion_matrix_normalized.png** | **归一化混淆矩阵**：同上，但按行归一成比例（如百分比），便于比较不同类别。 |

---

## 三、各 JPG 文件含义

| 文件名 | 含义 |
|--------|------|
| **labels.jpg** | 训练/验证集中**真实标签**的示意：画的是数据集中标注的边界框和类别，用于确认标注是否正确、数据是否正常。 |
| **train_batch0.jpg ~ train_batch2.jpg** | 训练时**前几个 batch** 的样本图（带真实标签），用于检查数据增强、读取是否正常。 |
| **train_batch2300.jpg ~ train_batch2302.jpg** | 训练**后期**某几个 batch 的样本，同样用于抽查训练数据。 |
| **val_batch0_labels.jpg ~ val_batch2_labels.jpg** | 验证集上**真实标签**：这几张图是「标准答案」，画的是人工标注的框和类别。 |
| **val_batch0_pred.jpg ~ val_batch2_pred.jpg** | 验证集上**模型预测**：同一批验证图，但框和类别是模型预测的。**与同编号的 `*_labels.jpg` 对比**即可看出漏检、误检、定位和分类好坏。 |

---

## 四、其他文件

| 文件名 | 含义 |
|--------|------|
| **args.yaml** | 本次训练使用的全部超参数（模型、数据路径、epoch、batch、学习率等），便于复现或对比实验。 |
| **results.csv** | 每个 epoch 的数值记录：损失、P、R、mAP50、mAP50-95 等，可用 Excel 或 pandas 做进一步分析。 |
| **weights/** | 存放训练得到的权重（如 `best.pt`、`last.pt`），用于推理或继续训练。 |

---

*文档对应目录：`runs/detect/train2`（YOLO 目标检测训练输出）。*
